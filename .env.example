# =============================================================================
# clawbot-manager 配置
# =============================================================================

# --- 服务 ---
PORT=7100
HOST=0.0.0.0

# --- 数据目录 (本地开发) ---
# Docker 运行时由 docker-compose 覆盖为 /app/data、/app/secrets
DATA_DIR=./data
SECRETS_DIR=./secrets

# --- Docker 卷名 (供容器内路径发现) ---
# 需与 docker-compose volumes 名称匹配: {project}_{volume}
DATA_VOLUME_NAME=clawbot-manager-data
SECRETS_VOLUME_NAME=clawbot-manager-secrets

# =============================================================================
# Bot 镜像配置 (按 botType 类型)
# =============================================================================
# 所有镜像都从 openclaw 项目本地构建，不使用网络预编译镜像
#
# 构建命令：
#   pnpm docker:build:all     # 构建所有镜像
#   pnpm docker:build:gateway # 仅构建 Gateway 镜像
#
# Bot 类型决定使用哪种 Docker 镜像：
#   - GATEWAY: 主 Gateway bot（默认）- 完整 OpenClaw 运行时
#   - TOOL_SANDBOX: 工具沙箱 - 最小化环境执行代码
#   - BROWSER_SANDBOX: 浏览器沙箱 - 包含 Chromium + VNC 支持

# Gateway 类型镜像（从 openclaw/Dockerfile 构建）
BOT_IMAGE_GATEWAY=openclaw:local
# 工具沙箱类型镜像（从 openclaw/scripts/sandbox-setup.sh 构建）
BOT_IMAGE_TOOL_SANDBOX=openclaw-sandbox:bookworm-slim
# 浏览器沙箱类型镜像（从 openclaw/scripts/sandbox-browser-setup.sh 构建）
BOT_IMAGE_BROWSER_SANDBOX=openclaw-sandbox-browser:bookworm-slim

# Docker 镜像仓库配置
# 用于推送镜像到远程仓库（如 UCloud）
DOCKER_REGISTRY=uhub.service.ucloud.cn/pardx
# 推送时的镜像标签（默认使用 latest）
DOCKER_IMAGE_TAG=latest

# OpenClaw 源码路径（用于构建所有镜像）
OPENCLAW_SRC_PATH=../openclaw

# --- Bot 运行时 ---
BOT_PORT_START=19000

# --- Bot API 配置 (供 apps/api 使用) ---
# 这些变量会被 apps/api 通过 dotenv-expand 引用
BOT_DATA_DIR=${DATA_DIR}/bots
BOT_SECRETS_DIR=${SECRETS_DIR}/bots
BOT_OPENCLAW_DIR=${DATA_DIR}/openclaw

# 启用 Zero-Trust Mode
ZERO_TRUST_MODE=true
PROXY_TOKEN_TTL=86400  # 24小时

# --- Docker 构建 (国内镜像) ---
# linux/arm64: Apple Silicon; linux/amd64: x86 服务器
DOCKER_PLATFORM=linux/arm64
# Node 基础镜像 (UCloud 国内镜像)
BASE_NODE_IMAGE=uhub.service.ucloud.cn/pardx/node:24.1-slim

NPM_CONFIG_REGISTRY=https://registry.npmmirror.com
